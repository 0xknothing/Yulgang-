<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ygLight Bot Simulator v2</title>
    <link rel="stylesheet" href="style.css">
    <!-- Pathfinding.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pathfinding/0.4.2/pathfinding-browser.min.js"></script>
</head>
<body>
    <div id="main-container">
        <!-- ===== ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ã‡πâ‡∏≤‡∏¢ (UI Controls) ===== -->
        <div id="left-ui-column">
            <div class="control-panel window">
                <div class="window-header">Controls</div>
                <div class="window-content">
                    <button id="start-btn">‚ñ∂Ô∏è Start Bot</button>
                    <button id="stop-btn">‚èπÔ∏è Stop Bot</button>
                    <button id="pause-btn">‚è∏Ô∏è Pause</button>
                    <hr>
                    <button id="save-btn">üíæ Save Game</button>
                    <button id="reset-btn">üîÑ Reset Save</button>
                </div>
            </div>
            <div id="settings-window" class="draggable-window window">
                 <div class="window-header">Settings</div>
                 <div class="window-content">
                    <div class="setting-item">
                        <input type="checkbox" id="setting-auto-buff" checked>
                        <label for="setting-auto-buff">Auto Buff</label>
                    </div>
                    <div class="setting-item">
                        <input type="checkbox" id="setting-auto-pickup" checked>
                        <label for="setting-auto-pickup">Auto Pickup</label>
                    </div>
                    <hr>
                    <div class="setting-item">
                        <label for="setting-hp-pot">Use HP Potion at <span id="hp-pot-value">50</span>%</label>
                        <input type="range" id="setting-hp-pot" min="1" max="100" value="50">
                    </div>
                    <div class="setting-item">
                        <label for="setting-mp-pot">Use MP Potion at <span id="mp-pot-value">30</span>%</label>
                        <input type="range" id="setting-mp-pot" min="1" max="100" value="30">
                    </div>
                 </div>
            </div>
             <div id="inventory-window" class="draggable-window window">
                <div class="window-header">Inventory</div>
                <div id="inventory-content" class="window-content"></div>
            </div>
        </div>

        <!-- ===== ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏Å‡∏•‡∏≤‡∏á (Game World) ===== -->
        <div id="center-column">
            <div id="game-area">
                <div id="game-world">
                    <!-- ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô path ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á -->
                    <img id="game-map" src="assets/map.jpg" alt="Game Map">
                    <div id="player"></div>
                    <!-- Monsters, NPCs, Loot will be dynamically added here -->
                </div>
            </div>
            <div id="bottom-log-area">
                 <div id="log-window" class="window">
                    <div class="window-header">Log</div>
                    <div id="log-content" class="window-content"></div>
                </div>
            </div>
        </div>

        <!-- ===== ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏Ç‡∏ß‡∏≤ (UI Info) ===== -->
        <div id="right-ui-column">
             <div id="status-window" class="draggable-window window">
                <div class="window-header">Character Status</div>
                <div class="window-content">
                    <p><strong>Name:</strong> <span id="char-name">YulgangPlayer</span></p>
                    <p><strong>Level:</strong> <span id="char-level">1</span></p>
                    <div class="status-bar"><span class="label">HP:</span><div class="bar-container"><div id="hp-bar" class="bar hp"></div></div><span id="hp-value">100/100</span></div>
                    <div class="status-bar"><span class="label">MP:</span><div class="bar-container"><div id="mp-bar" class="bar mp"></div></div><span id="mp-value">50/50</span></div>
                    <div class="status-bar"><span class="label">EXP:</span><div class="bar-container"><div id="exp-bar" class="bar exp"></div></div><span id="exp-value">0%</span></div>
                </div>
            </div>
            <div id="buffs-window" class="draggable-window window">
                <div class="window-header">Active Buffs</div>
                <div id="buffs-content" class="window-content"></div>
            </div>
            <div id="quest-log-window" class="draggable-window window">
                <div class="window-header">Quest Log</div>
                <div id="quest-log-content" class="window-content"><p>No active quest.</p></div>
            </div>
            <div id="wallet-window" class="draggable-window window">
                <div class="window-header">Web3 Wallet (Simulated)</div>
                <div id="wallet-content" class="window-content">
                    <button id="connect-wallet-btn">üîó Connect Wallet</button>
                    <div id="wallet-info" style="display: none;">
                        <p><strong>Address:</strong> <span id="wallet-address"></span></p>
                        <p><strong>KNOT:</strong> <span id="knot-balance">0</span></p>
                        <p><strong>Claimable:</strong> <span id="claimable-knot">0</span> <button id="claim-knot-btn">Claim</button></p>
                        <hr><strong>NFTs:</strong><div id="nft-list"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Windows ‡∏ó‡∏µ‡πà‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å -->
        <div id="npc-window" class="draggable-window window" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); z-index: 100;">
            <div class="window-header" id="npc-window-header">NPC</div>
            <div id="npc-window-content" class="window-content"></div>
        </div>
    </div>

    <!-- Scripts (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ import ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á) -->
    <script src="data.js" type="module"></script>
    <script src="web3.js" type="module"></script>
    <script src="ui.js" type="module"></script>
    <script src="bot.js" type="module"></script>
    <script src="game.js" type="module"></script>
    <script src="saveManager.js" type="module"></script>
    <script src="settingsController.js" type="module"></script>
    <script src="main.js" type="module"></script>
</body>
</html>
